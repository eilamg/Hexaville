[gd_scene load_steps=4 format=2]

[ext_resource path="res://Tile/tile.tscn" type="PackedScene" id=1]
[ext_resource path="res://Camera/camera.tscn" type="PackedScene" id=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Spatial


var Tile = preload(\"res://Tile/tile.tscn\")


func _ready():
    randomize()


func _on_tile_anchor_clicked(glob_pos):
    var tile = Tile.instance()
    tile.global_transform.origin = glob_pos
    add_child(tile)
    tile.select_mesh(randi() % 50)
    tile.set_orientation(randi() % 6)
    tile.connect(\"anchor_clicked\", self, \"_on_tile_anchor_clicked\")
"

[node name="TilesScene" type="Spatial"]
script = SubResource( 1 )

[node name="tile" parent="." instance=ExtResource( 1 )]

[node name="camera" parent="." instance=ExtResource( 2 )]
[connection signal="anchor_clicked" from="tile" to="." method="_on_tile_anchor_clicked"]
